<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Automato analytics integration demo</title>
  <link rel="stylesheet" href="https://markdowncss.github.io/air/css/air.css">
</head>

<body>

  <h1>Hello</h1>
  <h3>This is a demo page for Automato web analytics integration</h3>

  <p>If you want to integrate automato in your website just follow these steps:</p>
  <ol>
    <li>
      Paste the following code at the end of <code>&lt;head&gt;</code> tag:
      <pre><code class="language-html">&lt;script src="https://app.automato.pro/js/analytics.min.js"&gt;&lt;/script&gt;
&lt;script&gt;
  window.automato = window.initAutomatoTracker(
    "<span id="projectId">&lt;PROJECT_ID&gt;</span>",
    "<span id="poolId">&lt;POOL_ID&gt;</span>"
  );
&lt;/script&gt;</code></pre>
    <blockquote id="idsNote">
      The automato team will provide you your <code>&lt;PROJECT_ID&gt;</code> and <code>&lt;POOL_ID&gt;</code>
    </blockquote>
    </li>
    <li>
      Identify your users using:
      <pre><code class="language-js">automato.identify({
  firstName: "Foulen",
  lastName: "Fouleni",
  age: 33,
  // or any other user data you can send to have more detailed audiences
})</code></pre>
    </li>
    <li>
      Track user actions using:
      <pre><code class="language-js">automato.track("&lt;MY_EVENT_NAME&gt;", {
  item: "Awesome product",
  price: 1234.56,
  // or any detail you could record to have accurate targeted campaigns
})</code></pre>
    <blockquote>
      Replace the <code>&lt;MY_EVENT_NAME&gt;</code> by the triggered event by the user, ex: "addToCart", "login", "openProductDetails", ...
    </blockquote>
    </li>
  </ol>
  
  <script src="/js/analytics.min.js"></script>
  <script>
    let {projectId, poolId} = JSON.parse(atob((new URL(window.location.href)).searchParams.get("id")))
    window.automato = window.initAutomatoTracker(
      projectId,
      poolId
    );
    if (projectId && poolId) {
      document.getElementById("projectId").innerHTML = projectId;
      document.getElementById("poolId").innerHTML = poolId;
      document.getElementById("idsNote").remove();
    }
  </script>
</body>

</html>